{% extends "base.html" %} 
{% load static wagtailcore_tags wagtailimages_tags home_tags %}

{% block content %}

<article style="width:90%; margin: 2rem auto">
    <h1>{{ self.title }}</h1>

    <p>Word Count: {{ page.wordcount }}</p>

    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for loop_cycle in self.carousel_images.all %}
            {% image loop_cycle.carousel_image thumbnail-400x200 as img %}
                <div class="carousel-item{% if forloop.counter == 1 %} active{% endif %}">
                    <img src="{{ img.url }}" class="d-block w-100" alt="{{ img.alt }}">
                </div>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    {% for block in page.content %}
        {% include_block block %}
    {% endfor %}

</article>

{% endblock content %}